<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-input/iron-input.html">
<link rel="import" href="../../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">

<link rel="import" href="iscsi-target-styles.html">

<dom-module id="iscsi-target">
    <template>
        <style include="iscsi-target-styles">
         :host {
             display: block;

             padding: 10px 20px;
         }
        </style>

        <div class="card">
            <paper-toolbar class="target-toolbar">
                <span class="title">{{name}}</span>
                <paper-icon-button icon="delete" on-tap="removeTarget"></paper-icon-button>
            </paper-toolbar>
            <br>
            Target: <input is="iron-input" bind-value="{{name}}">

        </div>
    </template>

    <script>
     Polymer({
         is: 'iscsi-target',
         properties: {
             name: {
                 type: String,
                 value: function() {
                     /* sample: iqn.2017-0-12-105418265.org.linux-iscsi.igw.x86 */
                     /* TODO: Should we also auto-gen a ":some-suffix" (ie. :sn-redundant, etc)? */
                     var d = new Date();
                     return "iqn." + d.getFullYear() + "-" + d.getMonth() + "-" + d.getDate() + "-" +
                            d.getHours() + d.getMinutes() + d.getSeconds() + d.getMilliseconds() +
                            ".org.linux-iscsi.igw.x86";
                 },
             },
         },

         removeTarget: function() {
             this.fire('removeTarget');
         }

     });
    </script>
</dom-module>
